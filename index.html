<!DOCTYPE html>
<html>
	<head>
		<title>SAWAS Stuff</title>
		<meta name="viewport" content="initial-scale=1, user-scalable=no, user-scalable=0" />
		<link rel="manifest" href="/manifest.json" />
		<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
		<script src="/appsignal.js" type="module" async></script>
		<!-- appId: "591f8da3-a410-430b-b5db-6ab2e2af5e39", -->
		<script type="text/javascript" async>
			var OneSignal = window.OneSignal || [];
			OneSignal.push(function() {
				OneSignal.getUserId(function(id) {
					console.log(id);
					var elem = document.getElementById('subid');
					elem.innerText = id;
				});

				OneSignal.getNotificationPermission(function(permission) {
					console.log('Site Notification Permission:', permission);
				});
			});

			function selfNotification() {
				console.log('self noti should be shown up now.');
				OneSignal.push(function() {
					OneSignal.sendSelfNotification(
						/* Title (defaults if unset) */
						'OneSignal Web Push Notification',
						/* Message (defaults if unset) */
						'Action buttons increase the ways your users can interact with your notification.',
						/* URL (defaults if unset) */
						'https://the10threalm.com/',
						/* Icon */
						'https://onesignal.com/images/notification_logo.png',
						{
							/* Additional data hash */
							notificationType: 'news-feature'
						},
						[
							{
								/* Buttons */
								/* Choose any unique identifier for your button. The ID of the clicked button is passed to you so you can identify which button is clicked */
								id: 'like-button',
								/* The text the button should display. Supports emojis. */
								text: 'üëç',
								/* A valid publicly reachable URL to an icon. Keep this small because it's downloaded on each notification display. */
								icon: 'https://i.imgur.com/N8SN8ZS.png',
								/* The URL to open when this action button is clicked. See the sections below for special URLs that prevent opening any window. */
								url: 'https://the10threalm.com/'
							},
							{
								id: 'read-more-button',
								text: 'üôè',
								icon: 'https://i.imgur.com/MIxJp1L.png',
								url: 'https://the10threalm.com/'
							}
						]
					);
				});
			}
		</script>
	</head>

	<body>
		<div id=" container">
			<h1>Things must be done.</h1>
			<h2>
				<ul>
					<li><a href="./html5/barcodereader/live_w_locator.html">Barcode QuaggaJS</a></li>
					<li>
						<a href="./html5/barcodereader/multiple_reader.html">Multiple Barcode QuaggaJS</a>
					</li>
				</ul>
			</h2>

			<p>Your Subscription ID is <label id="subid"></label></p>

			<div>click <button onclick="selfNotification()">Create</button> to test notification</div>
		</div>
	</body>
</html>
